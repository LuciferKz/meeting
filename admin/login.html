<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>登录</title>
  <link rel="stylesheet" href="styles/com.css">
</head>
<body>
  <div class="login-container">
    <div class="login-form">
      <div class="login-form__title">系统登录</div>
      <div class="form-item">
        <svg xmlns="http://www.w3.org/2000/svg" class="form-item__icon" viewBox="0 0 130 130" id="icon-user" width="100%" height="100%"><path d="M63.444 64.996c20.633 0 37.359-14.308 37.359-31.953 0-17.649-16.726-31.952-37.359-31.952-20.631 0-37.36 14.303-37.358 31.952 0 17.645 16.727 31.953 37.359 31.953zM80.57 75.65H49.434c-26.652 0-48.26 18.477-48.26 41.27v2.664c0 9.316 21.608 9.325 48.26 9.325H80.57c26.649 0 48.256-.344 48.256-9.325v-2.663c0-22.794-21.605-41.271-48.256-41.271z" stroke="#979797"></path></svg>
        <div class="form-item__input">
          <input type="text" placeholder="账号" class="username">
        </div>
      </div>
      <div class="form-item">
          <svg xmlns="http://www.w3.org/2000/svg" class="form-item__icon" viewBox="0 0 128 128" id="icon-password" width="100%" height="100%"><path d="M108.8 44.322H89.6v-5.36c0-9.04-3.308-24.163-25.6-24.163-23.145 0-25.6 16.881-25.6 24.162v5.361H19.2v-5.36C19.2 15.281 36.798 0 64 0c27.202 0 44.8 15.281 44.8 38.961v5.361zm-32 39.356c0-5.44-5.763-9.832-12.8-9.832-7.037 0-12.8 4.392-12.8 9.832 0 3.682 2.567 6.808 6.407 8.477v11.205c0 2.718 2.875 4.962 6.4 4.962 3.524 0 6.4-2.244 6.4-4.962V92.155c3.833-1.669 6.393-4.795 6.393-8.477zM128 64v49.201c0 8.158-8.645 14.799-19.2 14.799H19.2C8.651 128 0 121.359 0 113.201V64c0-8.153 8.645-14.799 19.2-14.799h89.6c10.555 0 19.2 6.646 19.2 14.799z"></path></svg>
        <div class="form-item__input">
          <input type="password" placeholder="密码"  class="password">
        </div>
      </div>
      <button class="form-button">登录</button>
    </div>
  </div>
  <script src="util/index.js"></script>
  <script src="util/request.js"></script>
  <script>
    _.on('.form-button', 'click', function () {
      request
      .post('/user/login', {
        username: $k('.username').value,
        password: $k('.password').value
      })
      .then(function (res) {
        console.log(res, res.status, res.status === 1)
        if (res.status === 1) {
          $message.show(res.msg)
          setTimeout(function () {
            location.href = 'index.html'
          }, 3000)
        }
      })
    })
  </script>
</body>
</html>